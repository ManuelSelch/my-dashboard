{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Documents/my-dashboard/src/widgets/Burndown/Burndown.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport Chart from \"react-apexcharts\";\nimport useFetchMilestones from '../../hooks/useFetchMilestones';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst options = {\n  colors: ['#758694', '#9CDBA6', '#E90074'],\n  chart: {\n    type: 'area',\n    id: \"backlog\"\n  },\n  stroke: {\n    curve: 'straight'\n  },\n  dataLabels: {\n    enabled: false\n  },\n  xaxis: {}\n};\nconst Burndown = ({\n  project,\n  total_milestones,\n  total_story_points\n}) => {\n  _s();\n  const milestones = useFetchMilestones(project);\n  const milestoneCount = milestones.map(m => {\n    var _m$total_points;\n    return (_m$total_points = m.total_points) !== null && _m$total_points !== void 0 ? _m$total_points : 0;\n  }).length;\n  const milestoneValues = milestones.filter(m => m.closed === true).map(m => {\n    var _m$total_points2;\n    return (_m$total_points2 = m.total_points) !== null && _m$total_points2 !== void 0 ? _m$total_points2 : 0;\n  });\n  const milestoneValuesBurndown = [];\n  var lastValue = total_story_points;\n  milestoneValuesBurndown.push(lastValue);\n  for (let i = 0; i < milestoneValues.length; i++) {\n    const value = lastValue - milestoneValues[i];\n    lastValue = value;\n    milestoneValuesBurndown.push(value);\n  }\n  const stepSize = total_story_points / total_milestones;\n\n  // Generate optimal values\n  const optimalValues = [];\n  for (let i = 0; i < milestoneCount; i++) {\n    const optimalValue = total_story_points - stepSize * i;\n    optimalValues.push(optimalValue);\n  }\n  const series = [{\n    name: \"optimal\",\n    data: optimalValues\n  }, {\n    name: \"real\",\n    data: milestoneValuesBurndown\n  }];\n  return /*#__PURE__*/_jsxDEV(Chart, {\n    options: options,\n    series: series,\n    type: \"area\",\n    width: \"500\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n_s(Burndown, \"xdwmmlsWCeALYNBrk5drh+J/lt8=\", false, function () {\n  return [useFetchMilestones];\n});\n_c = Burndown;\nexport default Burndown;\nvar _c;\n$RefreshReg$(_c, \"Burndown\");","map":{"version":3,"names":["React","Chart","useFetchMilestones","jsxDEV","_jsxDEV","options","colors","chart","type","id","stroke","curve","dataLabels","enabled","xaxis","Burndown","project","total_milestones","total_story_points","_s","milestones","milestoneCount","map","m","_m$total_points","total_points","length","milestoneValues","filter","closed","_m$total_points2","milestoneValuesBurndown","lastValue","push","i","value","stepSize","optimalValues","optimalValue","series","name","data","width","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/admin/Documents/my-dashboard/src/widgets/Burndown/Burndown.js"],"sourcesContent":["import React from \"react\";\nimport Chart from \"react-apexcharts\";\n\nimport useFetchMilestones from '../../hooks/useFetchMilestones';\n\nconst options = {\n    colors : ['#758694', '#9CDBA6', '#E90074'],\n    chart: {\n        type: 'area',\n        id: \"backlog\"\n    },\n\n    stroke: {\n        curve: 'straight'\n    },\n\n    dataLabels: {\n        enabled: false,\n    },\n\n    xaxis: {\n       \n    },\n\n    \n}\n\nconst Burndown = ({project, total_milestones, total_story_points}) => {\n    const milestones = useFetchMilestones(project);\n    const milestoneCount = milestones.map(m => m.total_points ?? 0).length;\n    const milestoneValues = milestones.filter(m => m.closed === true).map(m => m.total_points ?? 0);\n    const milestoneValuesBurndown = []\n\n    var lastValue = total_story_points;\n    milestoneValuesBurndown.push(lastValue);\n    for (let i = 0; i < milestoneValues.length; i++) {\n        const value = lastValue - milestoneValues[i];\n        lastValue = value;\n        milestoneValuesBurndown.push(value);\n    }\n\n    const stepSize = total_story_points / total_milestones;\n\n    // Generate optimal values\n    const optimalValues = [];\n    for (let i = 0; i < milestoneCount; i++) {\n        const optimalValue = total_story_points - stepSize * i;\n        optimalValues.push(optimalValue);\n    }\n\n    const series = [\n        {\n            name: \"optimal\",\n            data: optimalValues\n        },\n        {\n            name: \"real\",\n            data: milestoneValuesBurndown\n        }\n    ]\n\n    return (\n        <Chart\n            options={options}\n            series={series}\n            type=\"area\"\n            width=\"500\"\n        />\n    );\n};\n\nexport default Burndown;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,kBAAkB;AAEpC,OAAOC,kBAAkB,MAAM,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhE,MAAMC,OAAO,GAAG;EACZC,MAAM,EAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;EAC1CC,KAAK,EAAE;IACHC,IAAI,EAAE,MAAM;IACZC,EAAE,EAAE;EACR,CAAC;EAEDC,MAAM,EAAE;IACJC,KAAK,EAAE;EACX,CAAC;EAEDC,UAAU,EAAE;IACRC,OAAO,EAAE;EACb,CAAC;EAEDC,KAAK,EAAE,CAEP;AAGJ,CAAC;AAED,MAAMC,QAAQ,GAAGA,CAAC;EAACC,OAAO;EAAEC,gBAAgB;EAAEC;AAAkB,CAAC,KAAK;EAAAC,EAAA;EAClE,MAAMC,UAAU,GAAGlB,kBAAkB,CAACc,OAAO,CAAC;EAC9C,MAAMK,cAAc,GAAGD,UAAU,CAACE,GAAG,CAACC,CAAC;IAAA,IAAAC,eAAA;IAAA,QAAAA,eAAA,GAAID,CAAC,CAACE,YAAY,cAAAD,eAAA,cAAAA,eAAA,GAAI,CAAC;EAAA,EAAC,CAACE,MAAM;EACtE,MAAMC,eAAe,GAAGP,UAAU,CAACQ,MAAM,CAACL,CAAC,IAAIA,CAAC,CAACM,MAAM,KAAK,IAAI,CAAC,CAACP,GAAG,CAACC,CAAC;IAAA,IAAAO,gBAAA;IAAA,QAAAA,gBAAA,GAAIP,CAAC,CAACE,YAAY,cAAAK,gBAAA,cAAAA,gBAAA,GAAI,CAAC;EAAA,EAAC;EAC/F,MAAMC,uBAAuB,GAAG,EAAE;EAElC,IAAIC,SAAS,GAAGd,kBAAkB;EAClCa,uBAAuB,CAACE,IAAI,CAACD,SAAS,CAAC;EACvC,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,eAAe,CAACD,MAAM,EAAEQ,CAAC,EAAE,EAAE;IAC7C,MAAMC,KAAK,GAAGH,SAAS,GAAGL,eAAe,CAACO,CAAC,CAAC;IAC5CF,SAAS,GAAGG,KAAK;IACjBJ,uBAAuB,CAACE,IAAI,CAACE,KAAK,CAAC;EACvC;EAEA,MAAMC,QAAQ,GAAGlB,kBAAkB,GAAGD,gBAAgB;;EAEtD;EACA,MAAMoB,aAAa,GAAG,EAAE;EACxB,KAAK,IAAIH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGb,cAAc,EAAEa,CAAC,EAAE,EAAE;IACrC,MAAMI,YAAY,GAAGpB,kBAAkB,GAAGkB,QAAQ,GAAGF,CAAC;IACtDG,aAAa,CAACJ,IAAI,CAACK,YAAY,CAAC;EACpC;EAEA,MAAMC,MAAM,GAAG,CACX;IACIC,IAAI,EAAE,SAAS;IACfC,IAAI,EAAEJ;EACV,CAAC,EACD;IACIG,IAAI,EAAE,MAAM;IACZC,IAAI,EAAEV;EACV,CAAC,CACJ;EAED,oBACI3B,OAAA,CAACH,KAAK;IACFI,OAAO,EAAEA,OAAQ;IACjBkC,MAAM,EAAEA,MAAO;IACf/B,IAAI,EAAC,MAAM;IACXkC,KAAK,EAAC;EAAK;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACd,CAAC;AAEV,CAAC;AAAC3B,EAAA,CA1CIJ,QAAQ;EAAA,QACSb,kBAAkB;AAAA;AAAA6C,EAAA,GADnChC,QAAQ;AA4Cd,eAAeA,QAAQ;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}