{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Documents/my-dashboard/src/widgets/Burndown/Burndown.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport Chart from \"react-apexcharts\";\nimport useFetchMilestones from '../../hooks/useFetchMilestones';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst options = {\n  colors: ['#758694', '#9CDBA6', '#E90074'],\n  chart: {\n    type: 'area',\n    id: \"backlog\"\n  },\n  stroke: {\n    curve: 'straight'\n  },\n  dataLabels: {\n    enabled: false\n  },\n  xaxis: {}\n};\nconst Burndown = ({\n  project\n}) => {\n  _s();\n  var _project$total_milest, _project$total_story_;\n  const milestones = useFetchMilestones(project.id);\n  const milestoneValues = milestones.reverse().map(m => {\n    var _m$total_points;\n    return (_m$total_points = m.total_points) !== null && _m$total_points !== void 0 ? _m$total_points : 0;\n  });\n  const milestoneValuesBurndown = [];\n  const total_milestones = (_project$total_milest = project.total_milestones) !== null && _project$total_milest !== void 0 ? _project$total_milest : 10;\n  const total_story_points = (_project$total_story_ = project.total_story_points) !== null && _project$total_story_ !== void 0 ? _project$total_story_ : 100;\n  var lastValue = total_story_points;\n  milestoneValuesBurndown.push(lastValue);\n  for (let i = 0; i < milestoneValues.length; i++) {\n    const value = lastValue - milestoneValues[i];\n    lastValue = value;\n    milestoneValuesBurndown.push(value);\n  }\n  const stepSize = total_story_points / total_milestones;\n\n  // Generate optimal values\n  const optimalValues = [];\n  for (let i = 0; i < total_milestones; i++) {\n    const optimalValue = total_story_points - stepSize * i;\n    optimalValues.push(optimalValue);\n  }\n  const series = [{\n    name: \"optimal\",\n    data: optimalValues\n  }, {\n    name: \"real\",\n    data: milestoneValuesBurndown\n  }];\n  return /*#__PURE__*/_jsxDEV(Chart, {\n    options: options,\n    series: series,\n    type: \"area\",\n    width: \"500\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n_s(Burndown, \"xdwmmlsWCeALYNBrk5drh+J/lt8=\", false, function () {\n  return [useFetchMilestones];\n});\n_c = Burndown;\nexport default Burndown;\nvar _c;\n$RefreshReg$(_c, \"Burndown\");","map":{"version":3,"names":["React","Chart","useFetchMilestones","jsxDEV","_jsxDEV","options","colors","chart","type","id","stroke","curve","dataLabels","enabled","xaxis","Burndown","project","_s","_project$total_milest","_project$total_story_","milestones","milestoneValues","reverse","map","m","_m$total_points","total_points","milestoneValuesBurndown","total_milestones","total_story_points","lastValue","push","i","length","value","stepSize","optimalValues","optimalValue","series","name","data","width","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/admin/Documents/my-dashboard/src/widgets/Burndown/Burndown.js"],"sourcesContent":["import React from \"react\";\nimport Chart from \"react-apexcharts\";\n\nimport useFetchMilestones from '../../hooks/useFetchMilestones';\n\nconst options = {\n    colors : ['#758694', '#9CDBA6', '#E90074'],\n    chart: {\n        type: 'area',\n        id: \"backlog\"\n    },\n\n    stroke: {\n        curve: 'straight'\n    },\n\n    dataLabels: {\n        enabled: false,\n    },\n\n    xaxis: {\n       \n    },\n\n    \n}\n\nconst Burndown = ({project}) => {\n    const milestones = useFetchMilestones(project.id);\n\n    const milestoneValues = milestones.reverse().map(m => m.total_points ?? 0);\n    const milestoneValuesBurndown = []\n\n    const total_milestones = project.total_milestones ?? 10;\n    const total_story_points = project.total_story_points ?? 100;\n\n    var lastValue = total_story_points;\n    milestoneValuesBurndown.push(lastValue);\n    for (let i = 0; i < milestoneValues.length; i++) {\n        const value = lastValue - milestoneValues[i];\n        lastValue = value;\n        milestoneValuesBurndown.push(value);\n    }\n\n    const stepSize = total_story_points / total_milestones;\n\n    // Generate optimal values\n    const optimalValues = [];\n    for (let i = 0; i < total_milestones; i++) {\n        const optimalValue = total_story_points - stepSize * i;\n        optimalValues.push(optimalValue);\n    }\n\n    const series = [\n        {\n            name: \"optimal\",\n            data: optimalValues\n        },\n        {\n            name: \"real\",\n            data: milestoneValuesBurndown\n        }\n    ]\n\n    return (\n        <Chart\n            options={options}\n            series={series}\n            type=\"area\"\n            width=\"500\"\n        />\n    );\n};\n\nexport default Burndown;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,kBAAkB;AAEpC,OAAOC,kBAAkB,MAAM,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhE,MAAMC,OAAO,GAAG;EACZC,MAAM,EAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;EAC1CC,KAAK,EAAE;IACHC,IAAI,EAAE,MAAM;IACZC,EAAE,EAAE;EACR,CAAC;EAEDC,MAAM,EAAE;IACJC,KAAK,EAAE;EACX,CAAC;EAEDC,UAAU,EAAE;IACRC,OAAO,EAAE;EACb,CAAC;EAEDC,KAAK,EAAE,CAEP;AAGJ,CAAC;AAED,MAAMC,QAAQ,GAAGA,CAAC;EAACC;AAAO,CAAC,KAAK;EAAAC,EAAA;EAAA,IAAAC,qBAAA,EAAAC,qBAAA;EAC5B,MAAMC,UAAU,GAAGlB,kBAAkB,CAACc,OAAO,CAACP,EAAE,CAAC;EAEjD,MAAMY,eAAe,GAAGD,UAAU,CAACE,OAAO,CAAC,CAAC,CAACC,GAAG,CAACC,CAAC;IAAA,IAAAC,eAAA;IAAA,QAAAA,eAAA,GAAID,CAAC,CAACE,YAAY,cAAAD,eAAA,cAAAA,eAAA,GAAI,CAAC;EAAA,EAAC;EAC1E,MAAME,uBAAuB,GAAG,EAAE;EAElC,MAAMC,gBAAgB,IAAAV,qBAAA,GAAGF,OAAO,CAACY,gBAAgB,cAAAV,qBAAA,cAAAA,qBAAA,GAAI,EAAE;EACvD,MAAMW,kBAAkB,IAAAV,qBAAA,GAAGH,OAAO,CAACa,kBAAkB,cAAAV,qBAAA,cAAAA,qBAAA,GAAI,GAAG;EAE5D,IAAIW,SAAS,GAAGD,kBAAkB;EAClCF,uBAAuB,CAACI,IAAI,CAACD,SAAS,CAAC;EACvC,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGX,eAAe,CAACY,MAAM,EAAED,CAAC,EAAE,EAAE;IAC7C,MAAME,KAAK,GAAGJ,SAAS,GAAGT,eAAe,CAACW,CAAC,CAAC;IAC5CF,SAAS,GAAGI,KAAK;IACjBP,uBAAuB,CAACI,IAAI,CAACG,KAAK,CAAC;EACvC;EAEA,MAAMC,QAAQ,GAAGN,kBAAkB,GAAGD,gBAAgB;;EAEtD;EACA,MAAMQ,aAAa,GAAG,EAAE;EACxB,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,gBAAgB,EAAEI,CAAC,EAAE,EAAE;IACvC,MAAMK,YAAY,GAAGR,kBAAkB,GAAGM,QAAQ,GAAGH,CAAC;IACtDI,aAAa,CAACL,IAAI,CAACM,YAAY,CAAC;EACpC;EAEA,MAAMC,MAAM,GAAG,CACX;IACIC,IAAI,EAAE,SAAS;IACfC,IAAI,EAAEJ;EACV,CAAC,EACD;IACIG,IAAI,EAAE,MAAM;IACZC,IAAI,EAAEb;EACV,CAAC,CACJ;EAED,oBACIvB,OAAA,CAACH,KAAK;IACFI,OAAO,EAAEA,OAAQ;IACjBiC,MAAM,EAAEA,MAAO;IACf9B,IAAI,EAAC,MAAM;IACXiC,KAAK,EAAC;EAAK;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACd,CAAC;AAEV,CAAC;AAAC5B,EAAA,CA7CIF,QAAQ;EAAA,QACSb,kBAAkB;AAAA;AAAA4C,EAAA,GADnC/B,QAAQ;AA+Cd,eAAeA,QAAQ;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}